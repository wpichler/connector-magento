<?xml version="1.0" encoding="utf-8"?>
<odoo>

	<record id="view_magento_product_media_form" model="ir.ui.view">
		<field name="name">magento.product.media.form</field>
		<field name="model">magento.product.media</field>
		<field name="arch" type="xml">
			<form string="Magento Product Media">
				<header>
					<button name="sync_to_magento" type="object" string="Force Sync Odoo -> Magento" />
					<button type="object" name="run_sync_to_magento" string="Instead Force Sync Odoo -> Magento" groups="base.group_no_one"/>
				</header>
				<sheet>
					<field name="p_image" widget="image" class="oe_avatar" readonly="1" attrs="{'invisible': ['|',('magento_product_id', '=', False),('type', '!=', 'product_image')]}"/>
					<field name="pt_image" widget="image" class="oe_avatar" readonly="1" attrs="{'invisible': ['|',('magento_product_tmpl_id', '=', False),('type', '!=', 'product_image')]}"/>
					<div class="oe_title">
						<h1>
							<field name="label" readonly="1"/>
						</h1>
					</div>
					<div class="oe_button_box" name="button_box">

					</div>
					<group>
						<group name="magento" string="Magento">
							<field name="external_id"  readonly="1"/>
							<field name="file"  readonly="1"/>
							<field name="url" widget="url"/>
							<field name="position" />
							<field name="disabled"/>
							<field name="mimetype"/>
							<field name="type"/>
							<field name="media_type"/>
							<field name="image_type_image"/>
							<field name="image_type_small_image"/>
							<field name="image_type_thumbnail"/>
							<field name="image_type_swatch"/>
						</group>
						<group name="general" string="Odoo">
							<field name="magento_product_id" readonly="1" attrs="{'invisible': [('magento_product_id', '=', False)]}"/>
							<field name="magento_product_tmpl_id" readonly="1" attrs="{'invisible': [('magento_product_tmpl_id', '=', False)]}"/>
							<field name="backend_id"  readonly="1"/>
						</group>
					</group>
					<div>
						<img t-attf-src="#{ url }" t-attf-name="#{ label }" t-attf-alt="#{ label }"/>
					</div>
				</sheet>
			</form>
		</field>
	</record>

	<record id="magento_product_media_search_view" model="ir.ui.view">
		<field name="name">magento.product.media.search</field>
		<field name="model">magento.product.media</field>
		<field name="arch" type="xml">
            <search string="Search Magento Product Media">
                <field name="label"/>
                <field name="magento_product_id" string="Product"/>
                <field name="magento_product_tmpl_id" string="Configurable"/>
                <group expand="0" string="Group By...">
                    <filter string="Backend"
							name="backend"
                            icon="terp-folder-orange"
                            domain="[]"
                            context="{'group_by':'backend_id'}"/>
                    <filter string="Product"
							name="product"
                            icon="terp-folder-orange"
                            domain="[]"
                            context="{'group_by':'magento_product_id'}"/>
                    <filter string="Configurable"
							name="template"
                            icon="terp-folder-orange"
                            domain="[]"
                            context="{'group_by':'magento_product_tmpl_id'}"/>
               </group>
           </search>
		</field>
	</record>

	<record id="magento_product_media_tree_view" model="ir.ui.view">
		<field name="name">magento.product.media.tree</field>
		<field name="model">magento.product.media</field>
		<field name="arch" type="xml">
			<tree default_order="position">
				<field name="position" widget="handle"/>
				<field name="magento_product_id" />
				<field name="magento_product_tmpl_id" />
				<field name="type"/>
				<field name="label" />
				<field name="file"/>
				<field name="image_type_image"/>
				<field name="image_type_small_image"/>
				<field name="image_type_thumbnail"/>
				<field name="image_type_swatch"/>
			</tree>
		</field>
	</record>

</odoo>
